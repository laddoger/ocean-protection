@startuml
!theme plain
skinparam linetype ortho
skinparam DefaultFontName WenQuanYi Zen Hei
!define ENTITY_BG_COLOR #E2F0FF
!define ENTITY_BORDER_COLOR #2C86E6

' 实体定义
entity "用户" as user {
'   *id: BIGINT <<主键>>
  --
  用户名: VARCHAR
  密码: VARCHAR
  性别: VARCHAR
  年龄: INT
  地址: VARCHAR
  创建时间: DATETIME
  更新时间: DATETIME
  是否删除: BOOLEAN
}

entity "论坛帖子" as post {
'   *id: BIGINT <<主键>>
  --
  *用户id: BIGINT <<外键>>
  标题: VARCHAR
  内容: TEXT
  浏览数: INT
  点赞数: INT
  评论数: INT
  创建时间: DATETIME
  更新时间: DATETIME
  是否删除: BOOLEAN
}

entity "帖子评论" as comment {
'   *id: BIGINT <<主键>>
  --
  *帖子id: BIGINT <<外键>>
  *用户id: BIGINT <<外键>>
  评论内容: TEXT
  创建时间: DATETIME
  更新时间: DATETIME
  是否删除: BOOLEAN
}

entity "帖子点赞" as like {
'   *id: BIGINT <<主键>>
  --
'   *帖子id: BIGINT <<外键>>
'   *用户id: BIGINT <<外键>>
'   创建时间: DATETIME
}

entity "志愿者组织" as org {
'   *id: BIGINT <<主键>>
  --
  *创建者id: BIGINT <<外键>>
  组织名称: VARCHAR
  组织描述: TEXT
  成员数量: INT
  创建时间: DATETIME
  更新时间: DATETIME
  是否删除: BOOLEAN
}

entity "组织成员" as org_member {
'   *id: BIGINT <<主键>>
  --
  *组织id: BIGINT <<外键>>
  *用户id: BIGINT <<外键>>
  角色: VARCHAR
  是否删除: BOOLEAN
}

entity "志愿活动" as activity {
'   *id: BIGINT <<主键>>
  --
  *组织id: BIGINT <<外键>>
  活动标题: VARCHAR
  活动描述: TEXT
  活动地点: VARCHAR
  开始时间: DATETIME
  结束时间: DATETIME
  活动状态: VARCHAR
  参与人数: INT
  最大参与人数: INT
  创建时间: DATETIME
  更新时间: DATETIME
  是否删除: BOOLEAN
}

entity "活动参与者" as participant {
'   *id: BIGINT <<主键>>
  --
  *活动id: BIGINT <<外键>>
  *用户id: BIGINT <<外键>>
  参与时间: DATETIME
  是否删除: BOOLEAN
}

entity "MarineAnimal" as animal {
'   *id: BIGINT <<PK>>
  --
  name: VARCHAR
  scientific_name: VARCHAR
  category: VARCHAR
  description: TEXT
  conservation_status: VARCHAR
  habitat: VARCHAR
  created_time: DATETIME
  updated_time: DATETIME
  deleted: BOOLEAN
}

entity "MarineAnimalCategory" as animal_category {
'   *id: BIGINT <<PK>>
  --
  name: VARCHAR
  description: TEXT
  created_time: DATETIME
  updated_time: DATETIME
  deleted: BOOLEAN
}

entity "OceanPollutant" as pollutant {
'   *id: BIGINT <<PK>>
  --
  name: VARCHAR
  category: VARCHAR
  percentage: DECIMAL
  harm_description: TEXT
  protection_measures: TEXT
  created_time: DATETIME
  updated_time: DATETIME
  deleted: BOOLEAN
}

' 关系定义
user ||--o{ post : "发布"
user ||--o{ comment : "评论"
user ||--o{ like : "点赞"

user ||--o{ org : "创建"
user ||--o{ org_member : "加入"
org ||--o{ org_member : "包含"

user ||--o{ participant : "参与"
activity ||--o{ participant : "拥有"

animal }o--|| animal_category : "belongs to"

@enduml 